<div *ngIf="clusterApiLoaded | async">
  <ng-container *ngIf="apiLoaded">
    <google-map width="100%" height="100vh" [options]="options" #map>
      <!-- (mapClick)="addMarker($event)" -->


      <ng-container *ngFor="let store of showedStores">
        <map-marker
          #clientMarker="mapMarker"
          icon="assets/holders/store-marker.png"
          [position]="store.location"
          (mapClick)="openInfoWindow(clientMarker, infoWindow)"
        ></map-marker>
        <map-info-window #infoWindow="mapInfoWindow">
          <div class="w-full flex flex-col justify-center items-center">
            <img [src]="store.store.image" width="74" class="mx-auto" />
            <h5 class="text-lg">الاسم: {{ store.store.name }}</h5>
          </div>
        </map-info-window>
      </ng-container>

    </google-map>
  </ng-container>
</div>
