"use strict";(self.webpackChunkrcadmin=self.webpackChunkrcadmin||[]).push([[231],{231:(F,g,n)=>{n.r(g),n.d(g,{DashboardModule:()=>J});var p=n(6814),c=n(9025),d=n(9862),i=n(1919),f=n(1896),t=n(5879),M=n(3139),m=n(2096),v=n(7398),b=n(3020),C=n(9397),x=n(6306),Z=n(5516);let y=(()=>{class e{constructor(o){this.http=o}load(){return this._loaded?(0,m.of)(this._loaded):(this.observable||(this.observable=this.http.jsonp(`https://maps.googleapis.com/maps/api/js?key=${Z.N.mapApiKey}`,"callback").pipe((0,v.U)(()=>!0),(0,b.B)(),(0,C.b)(()=>{this._loaded=!0,this.observable=void 0}),(0,x.K)(o=>(console.error(o),(0,m.of)(!1))))),this.observable)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(d.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=n(2296),A=n(617),T=n(553);function w(e,s){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"map-marker",4,5),t.NdJ("mapClick",function(){t.CHM(o);const r=t.MAs(2),l=t.MAs(4),h=t.oxw(3);return t.KtG(h.openInfoWindow(r,l))}),t.qZA(),t.TgZ(3,"map-info-window",null,6)(5,"div",7),t._UZ(6,"img",8),t.TgZ(7,"h5",9),t._uU(8),t.qZA()()(),t.BQk()}if(2&e){const o=s.$implicit;t.xp6(1),t.Q6J("position",o.location),t.xp6(5),t.Q6J("src",o.store.image,t.LSH),t.xp6(2),t.hij("\u0627\u0644\u0627\u0633\u0645: ",o.store.name,"")}}function S(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"google-map",1,2),t.YNc(3,w,9,3,"ng-container",3),t.qZA(),t.BQk()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("options",o.options),t.xp6(2),t.Q6J("ngForOf",o.showedStores)}}function D(e,s){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,S,4,2,"ng-container",0),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.apiLoaded)}}let L=(()=>{class e{constructor(o){this.http=o,this.options={center:{lat:18.077819265626548,lng:-15.96880064486457},zoom:12},this.showedStores=[]}ngOnInit(){this.http.jsonp(`https://maps.googleapis.com/maps/api/js?key=${T.N.mapApiKey}`,"callback").subscribe({next:o=>{this.apiLoaded=!0,this.showStores()},error:o=>{this.apiLoaded=!1}}),this.clusterApiLoaded=this.http.jsonp("https://unpkg.com/@googlemaps/markerclustererplus/dist/index.min.js","callback").pipe((0,v.U)(()=>!0),(0,x.K)(()=>(0,m.of)(!0)))}ngOnChanges(o){}openInfoWindow(o,a,r){a.open(o)}loadDirections(){}showStores(){this.stores?.forEach((o,a)=>{const l=o.location?.replace("(","").replace(")","")?.split(", ");if(l){const h=new google.maps.LatLng(+l[0],+l[1]);this.showedStores.push({store:o,location:h})}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-map"]],viewQuery:function(o,a){if(1&o&&t.Gf(c.ch,5),2&o){let r;t.iGM(r=t.CRH())&&(a.infoWindow=r.first)}},inputs:{stores:"stores"},features:[t.TTD],decls:2,vars:3,consts:[[4,"ngIf"],["width","100%","height","100vh",3,"options"],["map",""],[4,"ngFor","ngForOf"],["icon","assets/holders/store-marker.png",3,"position","mapClick"],["clientMarker","mapMarker"],["infoWindow","mapInfoWindow"],[1,"w-full","flex","flex-col","justify-center","items-center"],["width","74",1,"mx-auto",3,"src"],[1,"text-lg"]],template:function(o,a){1&o&&(t.YNc(0,D,2,1,"div",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,a.clusterApiLoaded))},dependencies:[p.sg,p.O5,c.b6,c.ch,c.O_,p.Ov]}),e})();function I(e,s){if(1&e&&(t.ynx(0),t._UZ(1,"app-map",12),t.BQk()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("stores",o.stores)}}const j=[{path:"",component:(()=>{class e{constructor(o,a){this.storesService=o,this.googleMapsApiService=a}ngOnInit(){this.loadStores()}loadStores(){this.storesService.getAllStores().subscribe({next:o=>{this.stores=o},error:o=>{console.log(o)}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(M._),t.Y36(y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:20,vars:1,consts:[[1,"w-full","h-full","flex"],[1,"w-9/12"],[4,"ngIf"],[1,"w-3/12","h-full","bg-slate-100","overflow-x-auto"],["matSubheader","",1,"flex","items-center","justify-between"],["mat-icon-button","","color","primary",1,"float-right"],[1,"border-b-2"],["matListItemAvatar","","src","assets/holders/demand.jpg","alt",""],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta",""],["mat-raised-button","","color","primary",1,"text-white"],[3,"stores"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,I,2,1,"ng-container",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"h2"),t._uU(6,"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"),t.qZA(),t.TgZ(7,"button",5)(8,"mat-icon"),t._uU(9,"add"),t.qZA()()(),t.TgZ(10,"mat-list")(11,"mat-list-item",6),t._UZ(12,"img",7),t.TgZ(13,"div",8),t._uU(14,"Demand"),t.qZA(),t.TgZ(15,"div",9),t._uU(16,"23 jul"),t.qZA(),t.TgZ(17,"div",10)(18,"button",11),t._uU(19," Edit "),t.qZA()()()()()()),2&o&&(t.xp6(2),t.Q6J("ngIf",a.stores))},dependencies:[p.O5,i.i$,i.Tg,i.D1,i.gs,i.WW,i.sL,i.ni,u.lW,u.RK,A.Hw,L]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(j),f.Bz]}),e})(),J=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,Q,c.Y4,d.Ed,d.JF,i.ie,u.ot,A.Ps]}),e})()}}]);